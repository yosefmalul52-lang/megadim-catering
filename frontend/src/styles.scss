// 1. Main Import (Must be first)
@use '@angular/material' as mat;

// 2. Include core styles
@include mat.core();

// 3. Define Custom Palettes (Blue & Gold)

// Primary: Charcoal Navy Blue #1f3540
$magadim-primary: (
  50: #e4e7e9,
  100: #bac3c8,
  200: #8d9ca4,
  300: #5f747f,
  400: #3d5663,
  500: #1f3540, // Main
  600: #1b2f3e,
  700: #172836,
  800: #12222e,
  900: #0a1720,
  contrast: (
    500: #ffffff,
    600: #ffffff,
    700: #ffffff,
    800: #ffffff,
    900: #ffffff,
  )
);

// Accent: Gold/Beige #c5b19b
$magadim-accent: (
  50: #f8f6f3,
  100: #ede8e0,
  200: #e2d9cc,
  300: #d6c9b8,
  400: #cdbdac,
  500: #c5b19b, // Main
  600: #c0aa93,
  700: #b9a189,
  800: #b2987f,
  900: #a6886d,
  contrast: (
    500: rgba(0,0,0, 0.87),
  )
);

// 4. Create the palettes using 'm2-' prefix (Required for v19)
$my-primary-palette: mat.m2-define-palette($magadim-primary);
$my-accent-palette: mat.m2-define-palette($magadim-accent);

// 5. Define Typography
$my-typography: mat.m2-define-typography-config(
  $font-family: 'Roboto, "Helvetica Neue", sans-serif',
);

// 6. Create the theme object
$my-theme: mat.m2-define-light-theme((
  color: (
    primary: $my-primary-palette,
    accent: $my-accent-palette,
  ),
  typography: $my-typography,
  density: 0
));

// 7. Apply the theme
@include mat.all-component-themes($my-theme);

// 8. Global CSS Variables
:root {
  --primary-gold: #e0c075;
}

// 9. Global Styles & Reset
html {
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
}

body {
  margin: 0 !important;
  padding: 0 !important;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: #1a2b3c !important; // Dark blue (same as navbar) - if gap appears, it blends in
  box-sizing: border-box;
}

// Ensure all elements have proper box sizing
*, *::before, *::after {
  box-sizing: border-box;
}

// Custom overrides
.mat-mdc-card {
  background-color: white;
  border-radius: 8px;
}

// Error Snackbar styling
::ng-deep .error-snackbar {
  background-color: #f44336 !important;
  color: white !important;
}

// Success Snackbar styling
::ng-deep .success-snackbar {
  background-color: #4caf50 !important;
  color: white !important;
}

/* === FORCE SCROLLBAR TO RIGHT === */
/* Force Scrollbar Right */
html {
  direction: ltr !important; 
  overflow-y: scroll; /* Force scrollbar to belong to HTML */
}

body { 
  margin: 0; 
  padding: 0; 
  overflow-x: hidden; 
}

/* The App Container handles the actual layout direction */
.app-container {
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  /* Default to RTL if not set by Angular yet */
  direction: rtl;
}

/* Ensure LTR mode works when selected */
.app-container[dir="ltr"] {
  direction: ltr;
}

/* === RESPONSIVE GRID CLASSES FOR PRODUCT CARDS === */
.grid-3-cols {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  width: 100%;

  @media (max-width: 992px) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }
}

.grid-4-cols {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24px;
  width: 100%;

  @media (max-width: 992px) {
    grid-template-columns: repeat(2, 1fr);
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }
}

/* === LUXURY GOLD BACK BUTTON === */
.btn-gold-back {
  background: var(--primary-gold);
  border: 2px solid var(--primary-gold);
  color: #1f3540;
  padding: 10px 24px;
  font-weight: bold;
  border-radius: 0;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: 'Heebo', sans-serif;
  text-decoration: none;
  font-size: 1rem;

  i {
    font-size: 14px;
  }

  &:hover {
    background: var(--primary-gold);
    color: #1f3540;
    opacity: 0.9;
  }
}

.category-header-actions {
  padding: 20px;
  display: flex;
  justify-content: flex-start; // RTL: flex-start = right side
  direction: rtl;
}
